<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile - EFSMOD</title>
    <meta name="description" content="Manage your EFSMOD profile and personal information.">
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-puRlit0nSboPOr/4lk4cCJ6QpJCQIaahXlPBva7b3y8FutS3TO3qFvvbgadtzK13" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/portal.css">
    <link rel="icon" type="image/png" href="/images/logoNew.png">
</head>
<body class="portal-body">
    <a class="portal-skip" href="#main">Skip to main content</a>

    <nav class="portal-nav" role="navigation" aria-label="Primary navigation">
        <div class="container portal-nav-inner">
            <a href="/" class="portal-brand" aria-label="EFSMOD home">
                <img src="/images/logoNew.png" alt="EFSMOD" class="portal-logo portal-logo-desktop" width="180" height="64">
                <img src="/images/logoMobile.svg" alt="EFSMOD" class="portal-logo portal-logo-mobile" width="140" height="40">
            </a>

            <div class="portal-nav-actions">
                <a href="/signout" class="portal-btn portal-btn-secondary">Sign Out</a>
                <a href="/" class="portal-btn portal-btn-primary">Back to Portal</a>
            </div>
        </div>
    </nav>

    <main id="main" class="portal-profile-main" role="main">
        <div class="container">
            <header class="portal-profile-header">
                <div class="portal-avatar">
                    <svg width="42" height="42" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                        <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 7.5V5.5C15 4.7 14.3 4 13.5 4H10.5C9.7 4 9 4.7 9 5.5V7.5L3 7V9L9 8.5V18C9 18.6 9.4 19 10 19H14C14.6 19 15 18.6 15 18V8.5L21 9Z" />
                    </svg>
                </div>
                <h1 class="portal-profile-name" id="profile-display-name">Loading...</h1>
                <p class="portal-section-subtitle">Review your account information and complete the common intake form.</p>
            </header>

            <section class="portal-card-grid" aria-label="Profile details">
                <article class="portal-card" aria-labelledby="account-information">
                    <h2 id="account-information" class="portal-subsection-title">Account Information</h2>
                    <p class="portal-subsection-note">Information sourced from your Azure Active Directory profile.</p>

                    <div class="portal-field-group">
                        <label for="readonly-name" class="portal-label">Name</label>
                        <input id="readonly-name" class="portal-input" type="text" value="Loading..." readonly>
                    </div>

                    <div class="portal-field-group">
                        <label for="readonly-email" class="portal-label">Email</label>
                        <input id="readonly-email" class="portal-input" type="email" value="Loading..." readonly>
                    </div>

                    <button id="intake-form-toggle" class="portal-btn portal-btn-primary" type="button" aria-controls="intake-form" aria-expanded="false">
                        Open Common Intake Form
                    </button>
                </article>

                <article class="portal-card" aria-labelledby="common-intake-form">
                    <h2 id="common-intake-form" class="portal-subsection-title">Common Intake Form</h2>
                    <p class="portal-subsection-note">Review your details and complete any missing information. Submissions are stored securely in EFSMOD.</p>

                    <form id="intake-form" hidden>
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="firstName" class="portal-label">First Name</label>
                                <input type="text" id="firstName" name="firstName" class="portal-input" required>
                            </div>
                            <div class="col-md-6">
                                <label for="lastName" class="portal-label">Last Name</label>
                                <input type="text" id="lastName" name="lastName" class="portal-input" required>
                            </div>
                        </div>

                        <div class="portal-field-group">
                            <label for="email" class="portal-label">Email Address</label>
                            <input type="email" id="email" name="email" class="portal-input" required readonly>
                        </div>

                        <div class="portal-field-group">
                            <label for="department" class="portal-label">Department</label>
                            <input type="text" id="department" name="department" class="portal-input">
                        </div>

                        <div class="row g-3">
                            <div class="col-md-6">
                                <label for="jobTitle" class="portal-label">Job Title</label>
                                <input type="text" id="jobTitle" name="jobTitle" class="portal-input">
                            </div>
                            <div class="col-md-6">
                                <label for="officeLocation" class="portal-label">Office Location</label>
                                <input type="text" id="officeLocation" name="officeLocation" class="portal-input">
                            </div>
                        </div>

                        <div class="portal-field-group">
                            <label for="workPhone" class="portal-label">Work Phone</label>
                            <input type="tel" id="workPhone" name="workPhone" class="portal-input">
                        </div>

                        <div class="portal-field-group">
                            <label for="address" class="portal-label">Mailing Address</label>
                            <textarea id="address" name="address" class="portal-textarea" rows="3" placeholder="Enter your address"></textarea>
                        </div>

                        <div class="row g-3">
                            <div class="col-md-4">
                                <label for="city" class="portal-label">City</label>
                                <input type="text" id="city" name="city" class="portal-input" placeholder="Enter city">
                            </div>
                            <div class="col-md-4">
                                <label for="state" class="portal-label">State</label>
                                <select id="state" name="state" class="portal-select">
                                    <option value="">Select State</option>
                                    <option value="FL">Florida</option>
                                    <option value="AL">Alabama</option>
                                    <option value="GA">Georgia</option>
                                    <option value="SC">South Carolina</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div class="col-md-4">
                                <label for="zipCode" class="portal-label">ZIP Code</label>
                                <input type="text" id="zipCode" name="zipCode" class="portal-input" placeholder="Enter ZIP code">
                            </div>
                        </div>

                        <div class="portal-field-group">
                            <label for="phone" class="portal-label">Mobile Phone</label>
                            <input type="tel" id="phone" name="phone" class="portal-input">
                        </div>

                        <div class="portal-form-actions">
                            <button type="submit" class="portal-btn portal-btn-primary">Submit Intake Form</button>
                            <button type="button" id="intake-form-cancel" class="portal-btn portal-btn-secondary">Cancel</button>
                        </div>
                    </form>
                </article>
            </section>
        </div>
    </main>

    <footer class="portal-footer" role="contentinfo">
        <div class="container text-center">
            <p class="portal-footer-title">EFSMOD Early Learning Family Portal</p>
            <p>Need help? Contact your local early learning coalition for personalised assistance.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-pPRlTyTX0bYKT1eZq9VHtV6nRvWmvMRGsiE9zraFMvx6bMpiKFFitvolG/G5hgbf" crossorigin="anonymous" defer></script>
    <script src="/js/profile.js" defer></script>
</body>
</html>